  随着全球定位系统推广使用，人们在定位的精度上追求着更高标准，尤其在室内定位问题的需求上也在提升。在日常生活中，室内丢失物品的寻找也是令人困扰的问题，因此室内定位有着很实际的应用需求。
  在无线传感网发展的趋势下，科研工作者对声波的研究也越来越深入。超声波因为其抗干扰等优点，使得以其为载体的定位系统也越来越多，而其定位精度也在不断提升。与此同时，软硬件技术的发展带来了智能设备的蓬勃发展，双麦手机的出现，传感器的富集，也为智能手机的应用带来了更多的可能。基于智能手机的双麦克风和传感器，辅助声波的应用，为其在定位技术的应用带来了契机。
  本文结合目前常见的智能手机，提出了一种利用声波和智能手机进行室内定位的方案。首先对涉及的相关原理进行分析和阐述，构建了定位算法的数学模型，随后给出了完整的利用双麦手机及其集成的传感器进行定位的方案，并提出了离线计算和在线指引两种方式，最后在安卓系统上进行了实现。 
  本文的主要工作如下: 
  (1)对到达时延差计算的原理进行阐述和分析，并对双麦智能手机及其集成的传感器进行介绍，并提出了针对于此的数据处理方式。 
  (2)提出了利用双麦克风的智能手机辅佐声波进行室内定位的离线计算方案和在线指引方案，详细说明了其数据处理细节，并通过降维指引的思路为数据的可视化铺垫了基础。 
  (3)系统设计并且实现了基于以上方案的定位系统，然后对系统的功能和精度进行总结和测试，在一组实际实验中，达到了离线定位分量误差为(1.6671cm,1.9620cm,1.6666cm),在线指引角度误差为 1.7877°，对后续工作进行了展望。

  With the popularization and use of the global positioning system, people are pursuing higher standards in positioning accuracy, especially in the demand for indoor positioning problems.In daily life, the search for lost items indoors is also a disturbing problem, so the indoor positioning problems has very practical application requirements. 
  Under the development trend of wireless sensor networks, scientific researchers are also deepening their research on sound waves. Because of its anti-­interference and other advantages, ultrasound has made more and more positioning systems using it as a carrier, and its accuracy is also constantly improving. At the same time, the development of hardware and software technology has brought about the vigorous development of smart devices. The emergence of dual­mircophone smart phones and the enrichment of sensors have also brought more possibilities for the application of mobile phones. This article combines a common smartphone at present, and puts forward a solution for positioning indoors using sound waves and smart phones. Firstly, therelated principles involved are analyzed and elaborated, and the mathematical model of the positioning algorithm is constructed. Then, a complete positioning scheme using the dual-­mircophone mobile phone and its integrated sensors is given. Two methods of offline calculation and online guidance are proposed, and finally implemented on the Android system. 
  The main contribution in this paper are as follows: 
  1.We explain and analyze the principle of arrival delay difference calculation, introduce the sensors of dual-­mircophone smart phones and its integrated sensors, and propose a data processing method for the model. 
  2.We present an offline calculation solution and an online guidance solution using a dual-microphone smart phone assisted by sound wavesfor indoor positioning, explain the details of its data processing indetail, and propose the idea of dimensionality reduction guidance to lay the foundation for data visualization. 
  3.We systematically design and implement the positioning system based on the above scheme, summarize and test its function and accuracy. In a set of actual experiments, the offline positioning component error is(1.6671cm,1.9620cm,1.6666cm), the online guidance angle erroris 1.7877°, and finnally we prospect the follow-­up work.
